# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è Pach Group

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [https://supabase.com](https://supabase.com)
2. –ù–∞–∂–º–∏—Ç–µ "Start your project" –∏–ª–∏ "Sign up"
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç)
4. –ù–∞–∂–º–∏—Ç–µ "New Project"
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **Name:** `pach-group` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
   - **Database Password:** –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!)
   - **Region:** –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `West US`)
6. –ù–∞–∂–º–∏—Ç–µ "Create new project"
7. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã, –ø–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è

---

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π API

1. –í –ø–∞–Ω–µ–ª–∏ Supabase –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Project URL** ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ URL (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://`)
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Project API keys**:
   - **anon public** ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `eyJ...`)
   - **service_role** ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á (‚ö†Ô∏è **–ù–ï –ü–£–ë–õ–ò–ö–£–ô–¢–ï –ï–ì–û!**)

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –ë–î

1. –í –ø–∞–Ω–µ–ª–∏ Supabase –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** (–∏–∫–æ–Ω–∫–∞ –≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
2. –ù–∞–∂–º–∏—Ç–µ **New Query**
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase-schema.sql` –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å SQL –∫–æ–¥
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
6. –ù–∞–∂–º–∏—Ç–µ **Run** (–∏–ª–∏ `Ctrl+Enter`)
7. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "Success. No rows returned"

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor**
- –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—ã: `properties`, `deals`, `testimonials`

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `env.template` –≤ –ø—Ä–æ–µ–∫—Ç–µ
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ `.env.local`:
   ```bash
   cp env.template .env.local
   ```

3. –û—Ç–∫—Ä–æ–π—Ç–µ `.env.local` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Telegram (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
TELEGRAM_BOT_TOKEN=...
TELEGRAM_CHAT_ID=...

# Admin
JWT_SECRET=...
ADMIN_USERNAME=admin
ADMIN_PASSWORD=...
```

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

---

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
npm run dev
```

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–µ–∫—Ü–∏—é "–û–±—ä–µ–∫—Ç—ã"
   - –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ–±—ä–µ–∫—Ç—ã (–ø–æ–∫–∞ –ø—É—Å—Ç–æ, –µ—Å–ª–∏ –ë–î –ø—É—Å—Ç–∞—è)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö:**
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É: [http://localhost:3000/admin/login](http://localhost:3000/admin/login)
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç"
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!"

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Supabase:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí `properties`
   - –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (Netlify)

1. –í –ø–∞–Ω–µ–ª–∏ Netlify –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Site Settings** ‚Üí **Environment Variables**
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **NEXT_PUBLIC_SUPABASE_ANON_KEY** ‚Äî –º–æ–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
- ‚ùå **SUPABASE_SERVICE_ROLE_KEY** ‚Äî **–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ! –¢–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!

### Row Level Security (RLS)

–¢–∞–±–ª–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏:
- ‚úÖ **–ß—Ç–µ–Ω–∏–µ** ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤—Å–µ–º
- ‚úÖ **–ó–∞–ø–∏—Å—å** ‚Äî —á–µ—Ä–µ–∑ API —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π JWT —Ç–æ–∫–µ–Ω–∞ (–∞–¥–º–∏–Ω–∫–∞)

### Fallback –Ω–∞ mock –¥–∞–Ω–Ω—ã–µ

–ï—Å–ª–∏ Supabase –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Å–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `src/data/mock.ts`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ë–î –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Database not configured"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env.local`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to create property"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (SQL Editor ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω `supabase-schema.sql`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `SUPABASE_SERVICE_ROLE_KEY` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å service_role, –Ω–µ anon)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –û–±—ä–µ–∫—Ç—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `properties` –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab ‚Äî –∑–∞–ø—Ä–æ—Å –∫ `/api/properties` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 200

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

### `properties`
- `id` (UUID) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title` (TEXT) ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
- `district` (TEXT) ‚Äî —Ä–∞–π–æ–Ω
- `address_hint` (TEXT) ‚Äî –∞–¥—Ä–µ—Å (–ø–æ–¥—Å–∫–∞–∑–∫–∞)
- `price_rub` (INTEGER) ‚Äî —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
- `area_m2` (DECIMAL) ‚Äî –ø–ª–æ—â–∞–¥—å –≤ –º¬≤
- `rooms` (INTEGER) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
- `status` (TEXT) ‚Äî —Å—Ç–∞—Ç—É—Å: 'sale' –∏–ª–∏ 'sold'
- `image_url` (TEXT) ‚Äî URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `description` (TEXT) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ
- `features` (TEXT[]) ‚Äî –º–∞—Å—Å–∏–≤ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π
- `created_at` (TIMESTAMP) ‚Äî –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` (TIMESTAMP) ‚Äî –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü:

1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase Migrations (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase](https://supabase.com/docs)
- [Supabase Dashboard](https://app.supabase.com)
- [Supabase JavaScript Client](https://supabase.com/docs/reference/javascript/introduction)

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ mock-–¥–∞–Ω–Ω—ã—Ö. üéâ

